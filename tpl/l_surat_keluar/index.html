<div class="animated fadeIn">
    <div ng-controller="lsuratkeluarCtrl">
        <div class="card">
            <div class="card-header">
                <strong class="d-md-down-none">
                    Laporan Surat Keluar
                </strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12">
                        <h6>
                            Filter
                        </h6>
                        <hr>
                            <div class="row ml-2 mr-2">
                                <div class="col-md-6">
                                    <div class="form-group row">
                                        <label class="col-sm-3 col-form-label-sm mb-0">
                                            Periode
                                        </label>
                                        <div class="col-sm-8">
                                            <input class="form-control form-control-sm" datepicker-mode="'month'" datepicker-options="{minMode: 'month'}" is-open="opened.tgl" ng-click="toggle($event, 'tgl')" ng-model="filter.periode" placeholder="Bulan Tahun" type="text" uib-datepicker-popup="MMMM yyyy"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-3 col-form-label-sm mb-0">
                                            Pemohon
                                        </label>
                                        <div class="col-sm-8">
                                            <ui-select ng-model="filter.user" class="w100" theme="bootstrap">
                                                <ui-select-match placeholder="Filter Member [Ketikkan Nama Member]">{{ $select.selected.nama }}</ui-select-match>
                                                <ui-select-choices position="down" refresh="getPemohon($select.search)" repeat="val in listPegawai">{{ val.nama }}</ui-select-choices>
                                            </ui-select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group row">
                                        <label class="col-sm-3 col-form-label-sm mb-0">
                                            Status
                                        </label>
                                        <div class="col-sm-8">
                                            <select class="form-control form-control-sm" ng-model="filter.status">
                                                <option value="" selected>Semua</option>
                                                <option value="request">Request</option>
                                                <option value="acc">Disetujui</option>
                                                <option value="decline">Ditolak</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 text-center mb-3">
                                <hr>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-default btn-sm" ng-click="reset_filter();">
                                            <i class="fa fa-refresh">
                                            </i>
                                            Reset Filter
                                        </button>
                                        <button class="btn btn-primary btn-sm" ng-click="view(filter);">
                                            <i class="fa fa-search">
                                            </i>
                                            Tampilkan
                                        </button>
                                        <button class="btn btn-warning btn-sm text-white" ng-click="print(filter);">
                                            <i class="fa fa-print">
                                            </i>
                                            Print
                                        </button>
                                        <button class="btn btn-success btn-sm" ng-click="export();">
                                            <i class="fa fa-download">
                                            </i>
                                            Export Excel
                                        </button>
                                    </div>
                                </hr>
                            </div>
                        </hr>
                    </div>
                </div>
                <div class="border border-info text-center" id="print-area" ng-if="is_view">
                    <div class="col-md-12 table-responsive">
                        <br/>
                        <h4>
                            Laporan Surat Keluar
                        </h4>
                        <span>
                            Periode : {{ periode | date:"MMMM yyyy" }}
                        </span>
                        <br>
                            <br>
                                <table border="1px" class="table table-hover table-bordered">
                                    <thead>
                                        <tr>
                                            <th class="align-center" style="width: 3%">
                                                No.
                                            </th>
                                            <th class="align-center" style="width: 12%">
                                                No Surat
                                            </th>
                                            <th class="align-center" style="width: 10%">
                                                Tgl Surat
                                            </th>
                                            <th class="align-center" style="width: 10%">
                                                Tujuan
                                            </th>
                                            <th class="align-center" style="width: 15%">
                                                Perihal
                                            </th>
                                            <th class="align-center" style="width: 10%">
                                                Kode Surat
                                            </th>
                                            <th class="align-center" style="width: 5%">
                                                Status
                                            </th>
                                            <th class="align-center" style="width: 15%">
                                                Keterangan
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="align-left" ng-repeat="row in laporan">
                                            <td class="align-top align-center">
                                                {{ ($index+1) }}
                                            </td>
                                            <td class="align-top" style="padding-left: 5px">
                                                {{ row.no_surat }}
                                            </td>
                                            <td class="align-top" style="padding-left: 5px">
                                                {{ row.tgl_surat | date:"dd MMM yyyy" }}
                                            </td>
                                            <td class="align-top" style="padding-left: 5px">
                                                {{ row.tujuan }}
                                            </td>
                                            <td class="align-top" style="padding-left: 5px">
                                                {{ row.perihal }}
                                            </td>
                                            <td class="align-top" style="padding-left: 5px">
                                                {{ row.nama }}
                                            </td>
                                            <td class="align-top" style="padding-left: 5px">
                                                {{ row.status }}
                                            </td>
                                            <td class="align-top" style="padding-left: 5px">
                                                {{ row.ket }}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </br>
                        </br>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
